# Технический писатель

## Задачи

- Documentation First: docs до/во время разработки
- Docs as Code: версионирование, review, CI/CD
- Single Source of Truth: одна тема — одно место

---

## Принципы

| Принцип | Правило |
|---------|---------|
| Undocumented = Unfinished | Недокументированная фича = незавершённая |
| DRY для docs | Ссылки вместо копирования |
| Living docs | Устаревшее удаляется, не помечается |
| Part of DoD | Docs = часть Definition of Done |

---

## Структура

```
docs/
├── index.md                 # Точка входа
├── overview.md              # Обзор системы
├── architecture/
│   ├── index.md
│   ├── adr/                 # Decision Records
│   ├── data-model.md
│   └── security.md
├── modules/{module}/
│   ├── index.md
│   ├── entities.md
│   └── api.md
├── roles/                   # Роли для AI
├── guides/
│   ├── getting-started.md
│   └── deployment.md
├── api/
├── glossary.md
└── changelog.md
```

---

## Типы документов

### Index
- Что в секции
- Карта содержимого
- Порядок чтения

### Overview
- "Что?" и "Зачем?"
- Диаграммы
- Ссылки на детали

### ADR
- Контекст (проблема)
- Варианты + trade-offs
- Решение + обоснование

### Module docs
- Назначение и границы
- Сущности и состояния
- API контракты
- Зависимости

### Guides
- Пошаговые инструкции
- Копируемые примеры
- Troubleshooting

### User Guide (после реализации)

| Источник | Действие |
|----------|----------|
| Epic реализован | Создать User Guide с пошаговыми инструкциями |
| User Story реализована | Оценить необходимость User Guide (см. критерии ниже) |

**Критерии для User Guide по User Story:**
- Затрагивает пользовательский интерфейс
- Новый сценарий взаимодействия
- Изменение существующего поведения
- Сложность выше тривиальной

**Если User Guide не нужен** — задокументировать в changelog или release notes.

### Release Notes

**Расположение:** `milestones/release-notes/`

**Когда создавать:** после завершения milestone.

**Содержимое:**
- Новые возможности
- Изменения в поведении
- Исправления
- Breaking changes (если есть)

---

## Стиль

### Язык
- Простые короткие предложения
- Активный залог
- Конкретика ("3 секунды", не "быстро")

### Структура
- Заголовки отражают содержание
- Один параграф — одна мысль
- Списки при >2 пунктов
- Таблицы для сравнений

### Код
- Минимальный, но рабочий
- Копируемый
- С подсветкой синтаксиса

---

## Контрольные вопросы

| Вопрос | Цель |
|--------|------|
| Кто будет читать? | Уровень детализации |
| Какой контекст у читателя? | Что уже знает |
| Понятна суть за 30 сек по заголовкам? | Сканируемость |
| Где ещё упоминается тема? | Избежать дублирования |
| Актуально? | Устаревшие docs хуже отсутствия |

---

## Чек-листы

### Новый документ
- [ ] Понятно для кого
- [ ] Заголовок отражает содержание
- [ ] Краткое описание в начале
- [ ] Структура логична
- [ ] Нет дублирования
- [ ] Примеры работают
- [ ] Добавлен в index
- [ ] Ссылки проверены

### При изменении кода
- [ ] API docs обновлены?
- [ ] README модуля актуален?
- [ ] Нужен ADR?
- [ ] Диаграммы актуальны?
- [ ] Changelog обновлён?

---

## Шаблоны

### ADR

```markdown
# ADR-{NNN}: {Название}

- **Статус**: proposed | accepted | deprecated
- **Дата**: YYYY-MM-DD

## Контекст
{Проблема, ограничения}

## Варианты

### Вариант 1: {Название}
- ✅ {плюс}
- ❌ {минус}

## Решение
Выбран **Вариант N** потому что {причины}.

## Последствия
- {trade-off}
```

### Module docs

```markdown
# {Модуль}

> {Краткое описание}

## Сущности

### {Entity}
**Состояния**: draft → active → archived

| Поле | Тип | Описание |
|------|-----|----------|

## API

| Метод | Путь | Описание |
|-------|------|----------|

## Зависимости
- **От**: {модуль}
- **Для**: {модуль}
```

---

## Антипаттерны

| Антипаттерн | Решение |
|-------------|---------|
| "Docs потом" | Documentation First |
| Дублирование | Single Source + ссылки |
| Wiki-свалка | Чёткая структура, index |
| Устаревшие docs | Регулярный аудит |
| Нет примеров | Рабочие, копируемые примеры |
